<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Language" content="ro-RO" />
    <meta name="author" content="Mișu Moldovan" />
    <meta name="description" content="Romanian keyboard mapping for X.Org and XFree86" />
    <meta name="keywords" content="Romanian, diacritics, free software, românește, românește, diacritice, diacritice românești, diacritice românești, română, limba română, tastatură, tastatură românească, tastaturi, tastaturi românești, tastaturi românești, fonturi, fonturi românești, fonturi românești, traduceri, dicționare, dicționar, dicționare, dicționar, standarde, standard românesc, standarde românești, standarde românești" />

    <title>Mapări românești de tastatură</title>

    <link rel="stylesheet" type="text/css" href="layout.css" />
    <link rel="stylesheet" type="text/css" href="color.css" />
</head>



<body>
<div id="perm-links">
    <ul>
        <li><a href="faq.html">FAQ</a></li>
        <li><a href="despre.html">Despre</a></li>
    </ul>
</div>



<h1>Tastaturi românești</h1>



<div id="main-menu">

    <ul>
        <li><a href="index.html">Prima pagină</a></li>
        <li><a href="ghid.html">Ghid de traducere</a></li>
        <li><a href="http://l10n.ro/glosar">Glosar</a></li>
        <li><a href="lexicoane.html">Dicționare</a></li>
        <li><a href="tastaturi.html">Tastaturi</a></li>
        <li><a href="fonturi.html">Fonturi</a></li>
    </ul>


    <img src="imagini/diacritice.png" alt="Logo Diacritice" height="118" width="94" />

</div>



<div id="more-content">

    <h2>Scurt istoric al fișierului „ro” din XFree86 și X.Org</h2>

    <p>Prima mapare românească pentru XFree86 a fost cea scrisă în anul 2000 de Cristian Gafton. Ea doar adăuga mapării implicite „us” cele cinci diacritice românești: Ă, Â, Î, Ș și Ț în cunoscutele poziții: <tt>AltGr+a, AltGr+q, AltGr+i, AltGr+s, AltGr+t</tt> (pentru majuscule se ține apăsată și tasta Shift). Precum în alte fișiere xkb existente, s-au utilizat nivelurile trei și patru ale tastelor A, Q, I, S și T pentru generarea diacriticelor folosind ca modificator AltGr (tasta Alt din dreapta barei de spațiu). S-au evitat astfel discordanțele dintre ce este inscripționat pe tastaturi (care în România sunt într-o proporție covârșitoare tastaturi US) și maparea xkb. Acest aranjament, cunoscut și sub denumirile „ro_us” sau „ro-programmers”, este foarte convenabil pentru cei care nu folosesc intens diacriticele, dar care vor să le aibă disponibile permanent. </p>
    <p>Aranjamentul inițial a fost apoi adaptat în 2001 pentru a funcționa în XFree86 4.x de către Mișu Moldovan. Acesta a fost și momentul în care Marius Andreiana a adăugat o variantă „comma” pentru generarea diacriticelor cu virgulă dedesubt, precum cele din standardul ISO-8859-16. În 2003 însă, Manfred Pohler a creat un aranjament asemenea celui din Windows și l-a propus în XFree86 Bugzilla pentru a înlocui fișierul xkb „ro” existent. Ivan Pascal, dezvoltatorul responsabil, a inclus aranjamentul său ca mapare implicită în fișierul xkb „ro” alături de celelalte existente deja. Mai multe detalii în <a href="http://bugs.xfree86.org/show_bug.cgi?id=300">bug-ul 300</a> din XFree86 Bugzilla. În prezent (octombrie 2005), acest aranjament tip Windows este încă cel implicit în ultimele versiuni X: XFree86 4.5 și X.Org 6.8.2. Unele noi distribuții Linux utilizează <a href="http://www.freedesktop.org/wiki/Software_2fXKeyboardConfig">XKeyboardConfig</a>, un proiect ce își propune să unifice configurările de tastatură din sistemele X Window free/opensource și comerciale. Acest proiect  <a href="http://cvs.freedesktop.org/*checkout*/xlibs/xkbdesc/symbols/ro">include</a> din septembrie 2005 echivalentul versiunii 1.2 a aranjamentului disponibil în secțiunea <a href="https://sourceforge.net/project/showfiles.php?group_id=124877">Files</a> a acestui proiect.</p>
    <br />

    <h2>Standardul românesc de tastatură</h2>
    <p><img src="imagini/Dan_Matei.jpg" alt="Dan Matei la a treia întrunire" />Primul standard oficial pentru o tastatură românească a fost SR-13392 din anul 1998, care nu a fost implementat în nici un sistem de operare. Există însă un driver „third-party” pentru sistemele Windows care implementează această mapare, <a href="http://www.cimec.ro/ProgrameUtile/KBDRO.zip">disponibil</a> pe site-ul <a href="http://www.cimec.ro">Institutului de Memorie Culturală</a>. În paralel au existat mai multe încercări de definire a unor noi aranjamente, mai ergonomice și pe cât posibil compatibile cu modelele US ale tastaturilor de pe piața românească. Cele mai stăruitoare <a href="http://www.secarica.ro/html/ro_kbd_versions_history.html">eforturi</a> i-au aparținut lui <a href="http://www.secarica.ro">Cristian Secară</a>, care a constatat existența a două categorii distincte de utilizatori de diacritice. Unii erau obișnuiți cu poziția diacriticelor din maparea românească de la Microsoft, dar erau nemulțumiți de neajunsurile sale (inversarea tastelor Y și Z, remaparea caracterelor @#$%^&amp;*()-_=+). Alții, de regulă utilizatori de Linux sau programatori, nu doreau ca diacriticele să fie mapate în contradicție cu ce e inscripționat pe tastaturile US.</p>
    <p>Din inițiativa lui Cristi Secară, în perioada iulie 2003 - iulie 2004 au avut loc cinci întruniri la care au participat specialiști din partea mai multor instituții publice (ASRO, CIMEC, Universitatea București), firme private (Microsoft, IBM) și comunități de utilizatori (Windows, MacOS, Linux). În urma dezbaterilor pe marginea propunerilor inițiatorului a rezultat un nou standard românesc de tastatură, ce a fost înaintat <a href="http://www.asro.ro">Asociației de Standardizare din România</a> pentru omologare. În cursul lunii decembrie 2004 acesta a fost <a href="http://www.asro.ro/romana/standard/STANDARDE%20APROBATE%20IN%20DECEMBRIE%202004.html">adoptat</a> cu numărul SR 13392:2004. (În imaginea din dreapta, Dan Matei, directorul Institutului de Memorie Culturală, la a treia întrunire pe tema unui nou standard de tastatură românească, ce a avut loc în data de 25 noiembrie 2003 la sediul Institutului Bancar Român).</p>
    <p><img src="imagini/ro.png" alt="Aranjament primar" />Noul standard de tastatură cuprinde două aranjamente: unul <b>primar</b> derivat din cel prezent în Windows, dar în format QWERTY, fără să schimbe caracterele de pe nivelul doi al tastelor numerice, și unul <b>secundar</b>, derivat din cel original din XFree86, cu diacriticele pe nivelurile trei și patru ale tastelor A, Q, I, S și T. Ambele aranjamente mapează noul caracter Euro „€” pe nivelul trei al tastei E (se va utiliza combinația <tt>AltGr+E</tt>) și includ ca taste moarte (cu roșu în imaginile alăturate) toate accentele necesare generării diacriticelor specifice limbilor celor mai importante minorități de pe teritoriul României: maghiară, germană, turcă, polonă, sârbo-croată, alte limbi slave cu grafie latină. Cred că același lucru se poate spune și despre limba <a href="http://www.ethnologue.com/show_language.asp?code=rmy">romanes</a> vorbită în România, dar informațiile disponibile nu sunt întrutotul relevante.</p>
    <br />

    <h2>Noua implementare pentru X.Org și XFree86</h2>
    <p><img src="imagini/ro_us.png" alt="Aranjament secundar" />Odată cu definitivarea noului standard a devenit necesară implementarea celor două mapări românești de tastatură din standardul SR 13992:2004 în X.Org și XFree86. La fel ca în Windows, din motive de compatibilitate trebuia păstrat și aranjamentul de tip QWERTZ implementat de Martin Poehler în 2003. Însă mai exista o problemă majoră, cea a diacriticelor din ISO-8859-16, adică Ș și Ț cu virgulă dedesubt. Din motive de compatibilitate cu platforma Windows (mai multe detalii în <a href="http://www.secarica.ro/html/s-uri_si_t-uri.html">acest articol</a> scris de Cristi Secară), nu s-a putut evita înlocuirea Ș-urilor și Ț-urilor din ISO-8859-16 cu cele din ISO-8859-2 în noua mapare xkb, adoptându-se același compromis ca în cazul driver-ului de Windows ce implementează noul standard <a href="http://www.secarica.ro/html/ro_keyboard.html">disponibil</a> la <a href="http://secarica.ro">secarica.ro</a>. În plus au mai trebuit create două variante ce implementează diacriticele din standardul ISO-8859-16 pentru cele două mapări din noul standard. În concluzie, aranjamentele rezultate sunt: </p>
    <ul>
    <li><b>implicit</b> este aranjamentul secundar din noul standard, cu diacriticele pe literele AQIST, se setează cu comanda: <tt>setxkbmap ro</tt> . Acest aranjament are o variantă secundară, numită <b>comma</b> ce generează diacritice cu virgulă dedesubt și se inițializează cu comanda: <tt>setxkbmap ro comma</tt></li>
    <li><b>std</b> este aranjamentul primar din standard, cu diacriticele în dreapta, dar în format QWERTY, se setează cu: <tt>setxkbmap ro std</tt>. Varianta secundară a acestuia este aranjamentul <b>academic</b> ce generează diacritice cu virgulă dedesubt și se inițializează cu: <tt>setxkbmap ro academic</tt></li>
    <li><b>winkeys</b> este aranjamentul nemodificat al lui Martin Poehler, identic cu cel QWERTZ din Windows, cu diacritice în dreapta și caractere @#$%^&amp;*()-_=+) remapate, a se utiliza comanda: <tt>setxkbmap ro ms</tt> .</li>
    </ul>
    <p>Observație: În versiunea 1.1, denumirile ultimelor trei variante erau: standard, ideal și ms, schimbarea numelor s-a făcut odată cu acceptarea noii implementări în proiectul XKeyboardConfig, mai multe detalii în <a href="https://bugs.freedesktop.org/show_bug.cgi?id=371">Bugzilla freedesktop.org</a>.</p>
    <br />

    <h2>Instalarea manuală a noii mapări</h2>
    <p>Deoarece noul fișier xkb nu a fost inclus încă în X.Org și XFree86, pentru a utiliza noilor aranjamente trebuie să le instalați manual. Fișierele necesare pot fi descărcate din secțiunea <a href="http://www.sourceforge.net/project/showfiles.php?group_id=124877">Files</a> a proiectului „Diacritice”. Cele două fișiere incluse trebuie despachetate în locațiile prinse în structura arhivei. Faceți o copie de rezervă a celor două fișiere <tt>/etc/X11/xkb/symbols/ro</tt> și <tt>/etc/X11/xkb/symbols/pc/ro</tt> înainte de a le suprascrie cu cele descărcate. Pentru a putea genera toate diacriticele posibile, utilizați setări locale UTF-8. <b>Notă:</b> Există un mic bug în implementarea tastelor moarte în GTK+ 2.x care împiedică generarea caracterelor ț și Ț utilizând tasta moartă „dead_cedilla” de pe tasta „=”, mai multe detalii în <a href="http://bugzilla.gnome.org/show_bug.cgi?id=162845">GNOME Bugzilla</a>.</p>
    <p>Distribuțiile ce utilizează XKeyboardConfig 0.6 sau mai vechi (Ubuntu 5.10, *SuSE 10 etc.) includ o versiune a fișierului „ro” ce nu conține aranjamentele din noul standard. Pentru o instalare manuală, <a href="http://cvs.freedesktop.org/*checkout*/xlibs/xkbdesc/symbols/ro?rev=1.11">descărcați</a> din CVS-ul proiectului versiunea echivalentă celei disponibile aici și suprascrieți fișierul /etc/X11/xkb/symbols/ro (după ce ați făcut o copie de backup).</p>
    <br />

    <h2>Alte observații</h2>
    <p>Această pagină se referă deocamdată doar la mapările de tastatură pentru <a href="http://www.xfree86.org">XFree86</a> și <a href="http://www.x.org">X.Org</a>, neglijând deocamdată alte mapări cum ar fi de exemplu cele pentru consola Linux. A se vedea alte articole interesante pe această temă pe site-ul <a href="http://www.ro.kde.org/articole/linuxrom.html">Linux-KDE România</a> și pe site-ul personal al lui <a href="http://bucovina.chem.tue.nl/tastatura/">Mugurel Ciobîcă</a>.</p>
    <br />

</div>



<div id="footer">
    <h5>© 2004-2006 <a href="mailto:dumol@l10n.ro">Mișu Moldovan</a></h5>
</div>



</body>
</html>


