<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Language" content="ro-RO" />
    <meta name="author" content="Mişu Moldovan" />
    <meta name="description" content="Romanian keyboard mapping for X.Org and XFree86" />
    <meta name="keywords" content="Romanian, diacritics, free software, româneşte, românește, diacritice, diacritice româneşti, diacritice românești, română, limba română, tastatură, tastatură românească, tastaturi, tastaturi româneşti, tastaturi românești, fonturi, fonturi româneşti, fonturi românești, traduceri, dicţionare, dicţionar, dicționare, dicționar, standarde, standard românesc, standarde româneşti, standarde românești" />

    <title>Mapări româneşti de tastatură</title>

    <link rel="stylesheet" type="text/css" href="layout.css" />
    <link rel="stylesheet" type="text/css" href="color.css" />
</head>



<body>
<div id="perm-links">
    <ul>
        <li><a href="index.html">Index</a></li>
        <li><a href="faq.html">FAQ</a></li>
        <li><a href="despre.html">Despre</a></li>
    </ul>
</div>



<h1>Tastaturi româneşti</h1>



<div id="main-menu">

    <ul>
        <li><a href="howto.html">HOWTO</a></li>
        <li><a href="fonturi.html">Fonturi</a></li>
        <li><a href="tastaturi.html">Tastaturi</a></li>
        <li><a href="traduceri.html">Traduceri</a></li>
        <li><a href="lexicoane.html">Dicţionare</a></li>
        <li><a href="standarde.html">Standarde</a></li>
        <li><a href="adrese.html">Adrese utile</a></li>
    </ul>

    <img src="imagini/diacritice.png" alt="Logo Diacritice" height="118" width="94" />

</div>



<div id="more-content">

    <h2>Scurt istoric al fişierului „ro” din XFree86 şi X.Org</h2>

    <p>Prima mapare românească pentru XFree86 a fost cea scrisă în anul 2000 de Cristian Gafton. Ea doar adăuga mapării implicite „us” cele cinci diacritice româneşti: Ă, Â, Î, Ş şi Ţ în cunoscutele poziţii: <tt>AltGr+a, AltGr+q, AltGr+i, AltGr+s, AltGr+t</tt> (pentru majuscule se ţine apăsată şi tasta Shift). Precum în alte fişiere xkb existente, s-au utilizat nivelurile trei şi patru ale tastelor A, Q, I, S şi T pentru generarea diacriticelor folosind ca modificator AltGr (tasta Alt din dreapta barei de spaţiu). S-au evitat astfel discordanţele dintre ce este inscripţionat pe tastaturi (care în România sunt într-o proporţie covârşitoare tastaturi US) şi maparea xkb. Acest aranjament, cunoscut şi sub denumirile „ro_us” sau „ro-programmers”, este foarte convenabil pentru cei care nu folosesc intens diacriticele, dar care vor să le aibă disponibile permanent. </p>
    <p>Aranjamentul iniţial a fost apoi adaptat în 2001 pentru a funcţiona în XFree86 4.x de către Mişu Moldovan. Acesta a fost şi momentul în care Marius Andreiana a adăugat o variantă „comma” pentru generarea diacriticelor cu virgulă dedesubt, precum cele din standardul ISO-8859-16. În 2003 însă, Manfred Pohler a creat un aranjament asemenea celui din Windows şi l-a propus în XFree86 Bugzilla pentru a înlocui fişierul xkb „ro” existent. Ivan Pascal, dezvoltatorul responsabil, a inclus aranjamentul său ca mapare implicită în fişierul xkb „ro” alături de celelalte existente deja. Mai multe detalii în <a href="http://bugs.xfree86.org/show_bug.cgi?id=300">bug-ul 300</a> din XFree86 Bugzilla. În prezent (octombrie 2005), acest aranjament tip Windows este încă cel implicit în ultimele versiuni X: XFree86 4.5 şi X.Org 6.8.2. Unele noi distribuţii Linux utilizează <a href="http://www.freedesktop.org/wiki/Software_2fXKeyboardConfig">XKeyboardConfig</a>, un proiect ce îşi propune să unifice configurările de tastatură din sistemele X Window free/opensource şi comerciale. Acest proiect  <a href="http://cvs.freedesktop.org/*checkout*/xlibs/xkbdesc/symbols/ro">include</a> din septembrie 2005 echivalentul versiunii 1.2 a aranjamentului disponibil în secţiunea <a href="https://sourceforge.net/project/showfiles.php?group_id=124877">Files</a> a acestui proiect.</p>
    <br />

    <h2>Standardul românesc de tastatură</h2>
    <p><img src="imagini/Dan_Matei.jpg" alt="Dan Matei la a treia întrunire" />Primul standard oficial pentru o tastatură românească a fost SR-13392 din anul 1998, care nu a fost implementat în nici un sistem de operare. Există însă un driver „third-party” pentru sistemele Windows care implementează această mapare, <a href="http://www.cimec.ro/ProgrameUtile/KBDRO.zip">disponibil</a> pe site-ul <a href="http://www.cimec.ro">Institutului de Memorie Culturală</a>. În paralel au existat mai multe încercări de definire a unor noi aranjamente, mai ergonomice şi pe cât posibil compatibile cu modelele US ale tastaturilor de pe piaţa românească. Cele mai stăruitoare <a href="http://www.secarica.ro/html/ro_kbd_versions_history.html">eforturi</a> i-au aparţinut lui <a href="http://www.secarica.ro">Cristian Secară</a>, care a constatat existenţa a două categorii distincte de utilizatori de diacritice. Unii erau obişnuiţi cu poziţia diacriticelor din maparea românească de la Microsoft, dar erau nemulţumiţi de neajunsurile sale (inversarea tastelor Y şi Z, remaparea caracterelor @#$%^&amp;*()-_=+). Alţii, de regulă utilizatori de Linux sau programatori, nu doreau ca diacriticele să fie mapate în contradicţie cu ce e inscripţionat pe tastaturile US.</p>
    <p>Din iniţiativa lui Cristi Secară, în perioada iulie 2003 - iulie 2004 au avut loc cinci întruniri la care au participat specialişti din partea mai multor instituţii publice (ASRO, CIMEC, Universitatea Bucureşti), firme private (Microsoft, IBM) şi comunităţi de utilizatori (Windows, MacOS, Linux). În urma dezbaterilor pe marginea propunerilor iniţiatorului a rezultat un nou standard românesc de tastatură, ce a fost înaintat <a href="http://www.asro.ro">Asociaţiei de Standardizare din România</a> pentru omologare. În cursul lunii decembrie 2004 acesta a fost <a href="http://www.asro.ro/romana/standard/STANDARDE%20APROBATE%20IN%20DECEMBRIE%202004.html">adoptat</a> cu numărul SR 13392:2004. (În imaginea din dreapta, Dan Matei, directorul Institutului de Memorie Culturală, la a treia întrunire pe tema unui nou standard de tastatură românească, ce a avut loc în data de 25 noiembrie 2003 la sediul Institutului Bancar Român).</p>
    <p><img src="imagini/ro.png" alt="Aranjament primar" />Noul standard de tastatură cuprinde două aranjamente: unul <b>primar</b> derivat din cel prezent în Windows, dar în format QWERTY, fără să schimbe caracterele de pe nivelul doi al tastelor numerice, şi unul <b>secundar</b>, derivat din cel original din XFree86, cu diacriticele pe nivelurile trei şi patru ale tastelor A, Q, I, S şi T. Ambele aranjamente mapează noul caracter Euro „€” pe nivelul trei al tastei E (se va utiliza combinaţia <tt>AltGr+E</tt>) şi includ ca taste moarte (cu roşu în imaginile alăturate) toate accentele necesare generării diacriticelor specifice limbilor celor mai importante minorităţi de pe teritoriul României: maghiară, germană, turcă, polonă, sârbo-croată, alte limbi slave cu grafie latină. Cred că acelaşi lucru se poate spune şi despre limba <a href="http://www.ethnologue.com/show_language.asp?code=rmy">romanes</a> vorbită în România, dar informaţiile disponibile nu sunt întrutotul relevante.</p>
    <br />

    <h2>Noua implementare pentru X.Org şi XFree86</h2>
    <p><img src="imagini/ro_us.png" alt="Aranjament secundar" />Odată cu definitivarea noului standard a devenit necesară implementarea celor două mapări româneşti de tastatură din standardul SR 13992:2004 în X.Org şi XFree86. La fel ca în Windows, din motive de compatibilitate trebuia păstrat şi aranjamentul de tip QWERTZ implementat de Martin Poehler în 2003. Însă mai exista o problemă majoră, cea a diacriticelor din ISO-8859-16, adică Ş şi Ţ cu virgulă dedesubt. Din motive de compatibilitate cu platforma Windows (mai multe detalii în <a href="http://www.secarica.ro/html/s-uri_si_t-uri.html">acest articol</a> scris de Cristi Secară), nu s-a putut evita înlocuirea Ş-urilor şi Ţ-urilor din ISO-8859-16 cu cele din ISO-8859-2 în noua mapare xkb, adoptându-se acelaşi compromis ca în cazul driver-ului de Windows ce implementează noul standard <a href="http://www.secarica.ro/html/ro_keyboard.html">disponibil</a> la <a href="http://secarica.ro">secarica.ro</a>. În plus au mai trebuit create două variante ce implementează diacriticele din standardul ISO-8859-16 pentru cele două mapări din noul standard. În concluzie, aranjamentele rezultate sunt: </p>
    <ul>
    <li><b>implicit</b> este aranjamentul secundar din noul standard, cu diacriticele pe literele AQIST, se setează cu comanda: <tt>setxkbmap ro</tt> . Acest aranjament are o variantă secundară, numită <b>comma</b> ce generează diacritice cu virgulă dedesubt şi se iniţializează cu comanda: <tt>setxkbmap ro comma</tt></li>
    <li><b>std</b> este aranjamentul primar din standard, cu diacriticele în dreapta, dar în format QWERTY, se setează cu: <tt>setxkbmap ro std</tt>. Varianta secundară a acestuia este aranjamentul <b>academic</b> ce generează diacritice cu virgulă dedesubt şi se iniţializează cu: <tt>setxkbmap ro academic</tt></li>
    <li><b>winkeys</b> este aranjamentul nemodificat al lui Martin Poehler, identic cu cel QWERTZ din Windows, cu diacritice în dreapta şi caractere @#$%^&amp;*()-_=+) remapate, a se utiliza comanda: <tt>setxkbmap ro ms</tt> .</li>
    </ul>
    <p>Observaţie: În versiunea 1.1, denumirile ultimelor trei variante erau: standard, ideal şi ms, schimbarea numelor s-a făcut odată cu acceptarea noii implementări în proiectul XKeyboardConfig, mai multe detalii în <a href="https://bugs.freedesktop.org/show_bug.cgi?id=371">Bugzilla freedesktop.org</a>.</p>
    <br />

    <h2>Instalarea manuală a noii mapări</h2>
    <p>Deoarece noul fişier xkb nu a fost inclus încă în X.Org şi XFree86, pentru a utiliza noilor aranjamente trebuie să le instalaţi manual. Fişierele necesare pot fi descărcate din secţiunea <a href="http://www.sourceforge.net/project/showfiles.php?group_id=124877">Files</a> a proiectului „Diacritice”. Cele două fişiere incluse trebuie despachetate în locaţiile prinse în structura arhivei. Faceţi o copie de rezervă a celor două fişiere <tt>/etc/X11/xkb/symbols/ro</tt> şi <tt>/etc/X11/xkb/symbols/pc/ro</tt> înainte de a le suprascrie cu cele descărcate. Pentru a putea genera toate diacriticele posibile, utilizaţi setări locale UTF-8. <b>Notă:</b> Există un mic bug în implementarea tastelor moarte în GTK+ 2.x care împiedică generarea caracterelor ţ şi Ţ utilizând tasta moartă „dead_cedilla” de pe tasta „=”, mai multe detalii în <a href="http://bugzilla.gnome.org/show_bug.cgi?id=162845">GNOME Bugzilla</a>.</p>
    <p>Distribuţiile ce utilizează XKeyboardConfig 0.6 sau mai vechi (Ubuntu 5.10, *SuSE 10 etc.) includ o versiune a fişierului „ro” ce nu conţine aranjamentele din noul standard. Pentru o instalare manuală, <a href="http://cvs.freedesktop.org/*checkout*/xlibs/xkbdesc/symbols/ro?rev=1.11">descărcaţi</a> din CVS-ul proiectului versiunea echivalentă celei disponibile aici şi suprascrieţi fişierul /etc/X11/xkb/symbols/ro (după ce aţi făcut o copie de backup).</p>
    <br />

    <h2>Alte observaţii</h2>
    <p>Această pagină se referă deocamdată doar la mapările de tastatură pentru <a href="http://www.xfree86.org">XFree86</a> şi <a href="http://www.x.org">X.Org</a>, neglijând deocamdată alte mapări cum ar fi de exemplu cele pentru consola Linux. A se vedea alte articole interesante pe această temă pe site-ul <a href="http://www.ro.kde.org/articole/linuxrom.html">Linux-KDE România</a> şi pe site-ul personal al lui <a href="http://bucovina.chem.tue.nl/tastatura/">Mugurel Ciobîcă</a>.</p>
    <br />

</div>



<div id="footer">
    <h5>© 2004-2006 <a href="mailto:dumol@gnome.ro">Mişu Moldovan</a></h5>
</div>



</body>
</html>


